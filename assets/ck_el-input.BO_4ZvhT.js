import{a3 as Ie,ar as se,Y as nt,a4 as T,al as at,c as h,b3 as st,av as Q,Z as U,r as P,s as Re,a5 as j,a1 as Oe,aU as lt,aK as it,u as o,ay as G,au as ze,a8 as M,d as $e,an as rt,at as ut,$ as Ne,aE as dt,a as I,o as y,l as b,F as le,b as O,j as x,e as Z,k as z,m as H,aa as D,am as Pe,a2 as ie,ap as re,t as q,n as Fe,X as ct,ab as ke,ac as pt}from"./en_index.xCAGLME6.js";import{a as ft,l as pe,j as Be,u as ue,c as vt}from"./ck_constants.DcN1x66V.js";import{D as mt,U as J,o as de,b as ht,u as yt,x as bt,_ as gt,V as wt,F as xt,G as St,E as K,I as ce,C as Te,d as Me}from"./ck_aria.BaKc_5mX.js";let S;const Et={height:"0",visibility:"hidden",overflow:mt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Ct=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],Ve=n=>{const a=Number.parseFloat(n);return Number.isNaN(a)?n:a};function It(n){const a=window.getComputedStyle(n),s=a.getPropertyValue("box-sizing"),t=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),r=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:Ct.map(i=>[i,a.getPropertyValue(i)]),paddingSize:t,borderSize:r,boxSizing:s}}function Le(n,a=1,s){var t,r;S||(S=document.createElement("textarea"),((t=n.parentNode)!=null?t:document.body).appendChild(S));const{paddingSize:u,borderSize:i,boxSizing:c,contextStyle:f}=It(n);f.forEach(([w,v])=>S?.style.setProperty(w,v)),Object.entries(Et).forEach(([w,v])=>S?.style.setProperty(w,v,"important")),S.value=n.value||n.placeholder||"";let d=S.scrollHeight;const m={};c==="border-box"?d=d+i:c==="content-box"&&(d=d-u),S.value="";const E=S.scrollHeight-u;if(Ie(a)){let w=E*a;c==="border-box"&&(w=w+u+i),d=Math.max(w,d),m.minHeight=`${w}px`}if(Ie(s)){let w=E*s;c==="border-box"&&(w=w+u+i),d=Math.min(w,d)}return m.height=`${d}px`,(r=S.parentNode)==null||r.removeChild(S),S=void 0,m}const zt=n=>n,Nt=nt({id:{type:String,default:void 0},size:at,disabled:{type:Boolean,default:void 0},modelValue:{type:T([String,Number,Object]),default:""},modelModifiers:{type:T(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:T(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:T([Boolean,Object]),default:!1},autocomplete:{type:T(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:de,default:ht},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:de},prefixIcon:{type:de},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:T([Object,Array,String]),default:()=>zt({})},autofocus:Boolean,rows:{type:Number,default:2},...ft(["ariaLabel"]),inputmode:{type:T(String),default:void 0},name:String}),Pt={[J]:n=>se(n),input:n=>se(n),change:(n,a)=>se(n)&&(a instanceof Event||a===void 0),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},Ft=["class","style"],kt=/^on[A-Z]/,Tt=(n={})=>{const{excludeListeners:a=!1,excludeKeys:s}=n,t=h(()=>(s?.value||[]).concat(Ft)),r=Q();return r?h(()=>{var u;return st(Object.entries((u=r.proxy)==null?void 0:u.$attrs).filter(([i])=>!t.value.includes(i)&&!(a&&kt.test(i))))}):h(()=>({}))},Mt=()=>{const n=U(pe,void 0),a=U(Be,void 0);return{form:n,formItem:a}},Vt=(n,{formItemContext:a,disableIdGeneration:s,disableIdManagement:t})=>{s||(s=P(!1)),t||(t=P(!1));const r=Q(),u=()=>{let d=r?.parent;for(;d;){if(d.type.name==="ElFormItem")return!1;if(d.type.name==="ElLabelWrap")return!0;d=d.parent}return!1},i=P();let c;const f=h(()=>{var d;return!!(!(n.label||n.ariaLabel)&&a&&a.inputIds&&((d=a.inputIds)==null?void 0:d.length)<=1)});return Re(()=>{c=j([Oe(n,"id"),s],([d,m])=>{const E=d??(m?void 0:yt().value);E!==i.value&&(a?.removeInputId&&!u()&&(i.value&&a.removeInputId(i.value),!t?.value&&!m&&E&&a.addInputId(E)),i.value=E)},{immediate:!0})}),lt(()=>{c&&c(),a?.removeInputId&&i.value&&a.removeInputId(i.value)}),{isLabeledByFormItem:f,inputId:i}},Ae=n=>{const a=Q();return h(()=>{var s,t;return(t=(s=a?.proxy)==null?void 0:s.$props)==null?void 0:t[n]})},Lt=(n,a={})=>{const s=P(void 0),t=a.prop?s:Ae("size"),r=a.global?s:it(),u=a.form?{size:void 0}:U(pe,void 0),i=a.formItem?{size:void 0}:U(Be,void 0);return h(()=>t.value||o(n)||i?.size||u?.size||r.value||"")},Rt=n=>{const a=Ae("disabled"),s=U(pe,void 0);return h(()=>{var t,r,u;return(u=(r=(t=a.value)!=null?t:o(n))!=null?r:s?.disabled)!=null?u:!1})};function Ot(n,{disabled:a,beforeFocus:s,afterFocus:t,beforeBlur:r,afterBlur:u}={}){const i=Q(),{emit:c}=i,f=G(),d=P(!1),m=v=>{const l=ze(s)?s(v):!1;o(a)||d.value||l||(d.value=!0,c("focus",v),t?.())},E=v=>{var l;const F=ze(r)?r(v):!1;o(a)||v.relatedTarget&&((l=f.value)!=null&&l.contains(v.relatedTarget))||F||(d.value=!1,c("blur",v),u?.())},w=v=>{var l,F;o(a)||bt(v.target)||(l=f.value)!=null&&l.contains(document.activeElement)&&f.value!==document.activeElement||(F=n.value)==null||F.focus()};return j([f,()=>o(a)],([v,l])=>{v&&(l?v.removeAttribute("tabindex"):v.setAttribute("tabindex","-1"))}),ue(f,"focus",m,!0),ue(f,"blur",E,!0),ue(f,"click",w,!0),{isFocused:d,wrapperRef:f,handleFocus:m,handleBlur:E}}const $t=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n);function Bt({afterComposition:n,emit:a}){const s=P(!1),t=c=>{a?.("compositionstart",c),s.value=!0},r=c=>{var f;a?.("compositionupdate",c);const d=(f=c.target)==null?void 0:f.value,m=d[d.length-1]||"";s.value=!$t(m)},u=c=>{a?.("compositionend",c),s.value&&(s.value=!1,M(()=>n(c)))};return{isComposing:s,handleComposition:c=>{c.type==="compositionend"?u(c):r(c)},handleCompositionStart:t,handleCompositionUpdate:r,handleCompositionEnd:u}}function At(n){let a;function s(){if(n.value==null)return;const{selectionStart:r,selectionEnd:u,value:i}=n.value;if(r==null||u==null)return;const c=i.slice(0,Math.max(0,r)),f=i.slice(Math.max(0,u));a={selectionStart:r,selectionEnd:u,value:i,beforeTxt:c,afterTxt:f}}function t(){if(n.value==null||a==null)return;const{value:r}=n.value,{beforeTxt:u,afterTxt:i,selectionStart:c}=a;if(u==null||i==null||c==null)return;let f=r.length;if(r.endsWith(i))f=r.length-i.length;else if(r.startsWith(u))f=u.length;else{const d=u[c-1],m=r.indexOf(d,c-1);m!==-1&&(f=m+1)}n.value.setSelectionRange(f,f)}return[s,t]}const Ht="ElInput",Dt=$e({name:Ht,inheritAttrs:!1}),Kt=$e({...Dt,props:Nt,emits:Pt,setup(n,{expose:a,emit:s}){const t=n,r=rt(),u=Tt(),i=ut(),c=h(()=>[t.type==="textarea"?F.b():l.b(),l.m(w.value),l.is("disabled",v.value),l.is("exceed",_e.value),{[l.b("group")]:i.prepend||i.append,[l.m("prefix")]:i.prefix||t.prefixIcon,[l.m("suffix")]:i.suffix||t.suffixIcon||t.clearable||t.showPassword,[l.bm("suffix","password-clear")]:X.value&&oe.value,[l.b("hidden")]:t.type==="hidden"},r.class]),f=h(()=>[l.e("wrapper"),l.is("focus",te.value)]),{form:d,formItem:m}=Mt(),{inputId:E}=Vt(t,{formItemContext:m}),w=Lt(),v=Rt(),l=Ne("input"),F=Ne("textarea"),_=G(),N=G(),ee=P(!1),W=P(!1),fe=P(),Y=G(t.inputStyle),C=h(()=>_.value||N.value),{wrapperRef:He,isFocused:te,handleFocus:De,handleBlur:Ke}=Ot(C,{disabled:v,afterBlur(){var e;t.validateEvent&&((e=m?.validate)==null||e.call(m,"blur").catch(p=>Me()))}}),ve=h(()=>{var e;return(e=d?.statusIcon)!=null?e:!1}),$=h(()=>m?.validateState||""),me=h(()=>$.value&&wt[$.value]),je=h(()=>W.value?xt:St),Ue=h(()=>[r.style]),he=h(()=>[t.inputStyle,Y.value,{resize:t.resize}]),k=h(()=>dt(t.modelValue)?"":String(t.modelValue)),X=h(()=>t.clearable&&!v.value&&!t.readonly&&!!k.value&&(te.value||ee.value)),oe=h(()=>t.showPassword&&!v.value&&!!k.value),V=h(()=>t.showWordLimit&&!!t.maxlength&&(t.type==="text"||t.type==="textarea")&&!v.value&&!t.readonly&&!t.showPassword),ne=h(()=>k.value.length),_e=h(()=>!!V.value&&ne.value>Number(t.maxlength)),We=h(()=>!!i.suffix||!!t.suffixIcon||X.value||t.showPassword||V.value||!!$.value&&ve.value),Ye=h(()=>!!Object.keys(t.modelModifiers).length),[Xe,Ze]=At(_);vt(N,e=>{if(qe(),!V.value||t.resize!=="both"&&t.resize!=="horizontal")return;const p=e[0],{width:g}=p.contentRect;fe.value={right:`calc(100% - ${g+22-10}px)`}});const B=()=>{const{type:e,autosize:p}=t;if(!(!ct||e!=="textarea"||!N.value))if(p){const g=ke(p)?p.minRows:void 0,R=ke(p)?p.maxRows:void 0,A=Le(N.value,g,R);Y.value={overflowY:"hidden",...A},M(()=>{N.value.offsetHeight,Y.value=A})}else Y.value={minHeight:Le(N.value).minHeight}},qe=(e=>{let p=!1;return()=>{var g;if(p||!t.autosize)return;((g=N.value)==null?void 0:g.offsetParent)===null||(setTimeout(e),p=!0)}})(B),L=()=>{const e=C.value,p=t.formatter?t.formatter(k.value):k.value;!e||e.value===p||t.type==="file"||(e.value=p)},ye=e=>{const{trim:p,number:g}=t.modelModifiers;return p&&(e=e.trim()),g&&(e=`${Ve(e)}`),t.formatter&&t.parser&&(e=t.parser(e)),e},ae=async e=>{if(ge.value)return;const{lazy:p}=t.modelModifiers;let{value:g}=e.target;if(p){s(ce,g);return}if(g=ye(g),String(g)===k.value){t.formatter&&L();return}Xe(),s(J,g),s(ce,g),await M(),(t.formatter&&t.parser||!Ye.value)&&L(),Ze()},be=async e=>{let{value:p}=e.target;p=ye(p),t.modelModifiers.lazy&&s(J,p),s(Te,p,e),await M(),L()},{isComposing:ge,handleCompositionStart:we,handleCompositionUpdate:xe,handleCompositionEnd:Se}=Bt({emit:s,afterComposition:ae}),Ge=()=>{W.value=!W.value},Je=()=>{var e;return(e=C.value)==null?void 0:e.focus()},Qe=()=>{var e;return(e=C.value)==null?void 0:e.blur()},et=e=>{ee.value=!1,s("mouseleave",e)},tt=e=>{ee.value=!0,s("mouseenter",e)},Ee=e=>{s("keydown",e)},ot=()=>{var e;(e=C.value)==null||e.select()},Ce=()=>{s(J,""),s(Te,""),s("clear"),s(ce,"")};return j(()=>t.modelValue,()=>{var e;M(()=>B()),t.validateEvent&&((e=m?.validate)==null||e.call(m,"change").catch(p=>Me()))}),j(k,e=>{if(!C.value)return;const{trim:p,number:g}=t.modelModifiers,R=C.value.value,A=(g||t.type==="number")&&!/^0\d/.test(R)?`${Ve(R)}`:R;A!==e&&(document.activeElement===C.value&&C.value.type!=="range"&&p&&A.trim()===e||L())}),j(()=>t.type,async()=>{await M(),L(),B()}),Re(()=>{!t.formatter&&t.parser,L(),M(B)}),a({input:_,textarea:N,ref:C,textareaStyle:he,autosize:Oe(t,"autosize"),isComposing:ge,focus:Je,blur:Qe,select:ot,clear:Ce,resizeTextarea:B}),(e,p)=>(y(),I("div",{class:x([o(c),{[o(l).bm("group","append")]:e.$slots.append,[o(l).bm("group","prepend")]:e.$slots.prepend}]),style:Fe(o(Ue)),onMouseenter:tt,onMouseleave:et},[b(" input "),e.type!=="textarea"?(y(),I(le,{key:0},[b(" prepend slot "),e.$slots.prepend?(y(),I("div",{key:0,class:x(o(l).be("group","prepend"))},[Z(e.$slots,"prepend")],2)):b("v-if",!0),O("div",{ref_key:"wrapperRef",ref:He,class:x(o(f))},[b(" prefix slot "),e.$slots.prefix||e.prefixIcon?(y(),I("span",{key:0,class:x(o(l).e("prefix"))},[O("span",{class:x(o(l).e("prefix-inner"))},[Z(e.$slots,"prefix"),e.prefixIcon?(y(),z(o(K),{key:0,class:x(o(l).e("icon"))},{default:H(()=>[(y(),z(D(e.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),O("input",Pe({id:o(E),ref_key:"input",ref:_,class:o(l).e("inner")},o(u),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?W.value?"text":"password":e.type,disabled:o(v),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:o(we),onCompositionupdate:o(xe),onCompositionend:o(Se),onInput:ae,onChange:be,onKeydown:Ee}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),b(" suffix slot "),o(We)?(y(),I("span",{key:1,class:x(o(l).e("suffix"))},[O("span",{class:x(o(l).e("suffix-inner"))},[!o(X)||!o(oe)||!o(V)?(y(),I(le,{key:0},[Z(e.$slots,"suffix"),e.suffixIcon?(y(),z(o(K),{key:0,class:x(o(l).e("icon"))},{default:H(()=>[(y(),z(D(e.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),o(X)?(y(),z(o(K),{key:1,class:x([o(l).e("icon"),o(l).e("clear")]),onMousedown:ie(o(re),["prevent"]),onClick:Ce},{default:H(()=>[(y(),z(D(e.clearIcon)))]),_:1},8,["class","onMousedown"])):b("v-if",!0),o(oe)?(y(),z(o(K),{key:2,class:x([o(l).e("icon"),o(l).e("password")]),onClick:Ge,onMousedown:ie(o(re),["prevent"]),onMouseup:ie(o(re),["prevent"])},{default:H(()=>[(y(),z(D(o(je))))]),_:1},8,["class","onMousedown","onMouseup"])):b("v-if",!0),o(V)?(y(),I("span",{key:3,class:x([o(l).e("count"),o(l).is("outside",e.wordLimitPosition==="outside")])},[O("span",{class:x(o(l).e("count-inner"))},q(o(ne))+" / "+q(e.maxlength),3)],2)):b("v-if",!0),o($)&&o(me)&&o(ve)?(y(),z(o(K),{key:4,class:x([o(l).e("icon"),o(l).e("validateIcon"),o(l).is("loading",o($)==="validating")])},{default:H(()=>[(y(),z(D(o(me))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),e.$slots.append?(y(),I("div",{key:1,class:x(o(l).be("group","append"))},[Z(e.$slots,"append")],2)):b("v-if",!0)],64)):(y(),I(le,{key:1},[b(" textarea "),O("textarea",Pe({id:o(E),ref_key:"textarea",ref:N,class:[o(F).e("inner"),o(l).is("focus",o(te))]},o(u),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:o(v),readonly:e.readonly,autocomplete:e.autocomplete,style:o(he),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:o(we),onCompositionupdate:o(xe),onCompositionend:o(Se),onInput:ae,onFocus:o(De),onBlur:o(Ke),onChange:be,onKeydown:Ee}),null,16,["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(V)?(y(),I("span",{key:0,style:Fe(fe.value),class:x([o(l).e("count"),o(l).is("outside",e.wordLimitPosition==="outside")])},q(o(ne))+" / "+q(e.maxlength),7)):b("v-if",!0)],64))],38))}});var jt=gt(Kt,[["__file","input.vue"]]);const Xt=pt(jt);export{Xt as E,Mt as a,Vt as b,Tt as c,Ot as d,Rt as e,Bt as f,zt as m,Lt as u};

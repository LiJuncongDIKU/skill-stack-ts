import{a4 as Ce,as as oe,Y as Ge,a5 as $,am as Qe,c as h,b4 as et,aw as Z,Z as K,q as z,k as Le,a6 as D,a1 as Re,aS as tt,aJ as ot,u as t,az as q,av as Ie,a9 as L,d as Be,ao as at,au as nt,$ as Ee,b3 as st,b as C,o as y,p as b,F as ae,g as V,n as w,j as Y,l as I,m as A,ab as M,an as ze,a2 as lt,aq as it,t as X,a3 as Fe,X as rt,ac as Pe,ad as ut}from"./en_index.DvMw2WEb.js";import{a as dt,k as ie,j as Oe,u as ne,c as ct}from"./ck_constants.Bm48iukD.js";import{D as pt,U as le,o as se,b as ft,u as vt,x as mt,_ as ht,V as yt,F as bt,G as gt,E as H,I as Ne,C as ke,d as Te}from"./ck_aria.BfdkQAQk.js";let x;const wt={height:"0",visibility:"hidden",overflow:pt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},xt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"];function St(a){const n=window.getComputedStyle(a),s=n.getPropertyValue("box-sizing"),o=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),u=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:xt.map(i=>[i,n.getPropertyValue(i)]),paddingSize:o,borderSize:u,boxSizing:s}}function Ve(a,n=1,s){var o,u;x||(x=document.createElement("textarea"),((o=a.parentNode)!=null?o:document.body).appendChild(x));const{paddingSize:d,borderSize:i,boxSizing:c,contextStyle:f}=St(a);f.forEach(([g,v])=>x?.style.setProperty(g,v)),Object.entries(wt).forEach(([g,v])=>x?.style.setProperty(g,v,"important")),x.value=a.value||a.placeholder||"";let r=x.scrollHeight;const m={};c==="border-box"?r=r+i:c==="content-box"&&(r=r-d),x.value="";const S=x.scrollHeight-d;if(Ce(n)){let g=S*n;c==="border-box"&&(g=g+d+i),r=Math.max(g,r),m.minHeight=`${g}px`}if(Ce(s)){let g=S*s;c==="border-box"&&(g=g+d+i),r=Math.min(g,r)}return m.height=`${r}px`,(u=x.parentNode)==null||u.removeChild(x),x=void 0,m}const Ct=a=>a,It=Ge({id:{type:String,default:void 0},size:Qe,disabled:Boolean,modelValue:{type:$([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:$([Boolean,Object]),default:!1},autocomplete:{type:$(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:se,default:ft},showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:se},prefixIcon:{type:se},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:$([Object,Array,String]),default:()=>Ct({})},autofocus:Boolean,rows:{type:Number,default:2},...dt(["ariaLabel"]),inputmode:{type:$(String),default:void 0},name:String}),Et={[le]:a=>oe(a),input:a=>oe(a),change:a=>oe(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},zt=["class","style"],Ft=/^on[A-Z]/,Pt=(a={})=>{const{excludeListeners:n=!1,excludeKeys:s}=a,o=h(()=>(s?.value||[]).concat(zt)),u=Z();return u?h(()=>{var d;return et(Object.entries((d=u.proxy)==null?void 0:d.$attrs).filter(([i])=>!o.value.includes(i)&&!(n&&Ft.test(i))))}):h(()=>({}))},Nt=()=>{const a=K(ie,void 0),n=K(Oe,void 0);return{form:a,formItem:n}},kt=(a,{formItemContext:n,disableIdGeneration:s,disableIdManagement:o})=>{s||(s=z(!1)),o||(o=z(!1));const u=Z(),d=()=>{let r=u?.parent;for(;r;){if(r.type.name==="ElFormItem")return!1;if(r.type.name==="ElLabelWrap")return!0;r=r.parent}return!1},i=z();let c;const f=h(()=>{var r;return!!(!(a.label||a.ariaLabel)&&n&&n.inputIds&&((r=n.inputIds)==null?void 0:r.length)<=1)});return Le(()=>{c=D([Re(a,"id"),s],([r,m])=>{const S=r??(m?void 0:vt().value);S!==i.value&&(n?.removeInputId&&!d()&&(i.value&&n.removeInputId(i.value),!o?.value&&!m&&S&&n.addInputId(S)),i.value=S)},{immediate:!0})}),tt(()=>{c&&c(),n?.removeInputId&&i.value&&n.removeInputId(i.value)}),{isLabeledByFormItem:f,inputId:i}},$e=a=>{const n=Z();return h(()=>{var s,o;return(o=(s=n?.proxy)==null?void 0:s.$props)==null?void 0:o[a]})},Tt=(a,n={})=>{const s=z(void 0),o=n.prop?s:$e("size"),u=n.global?s:ot(),d=n.form?{size:void 0}:K(ie,void 0),i=n.formItem?{size:void 0}:K(Oe,void 0);return h(()=>o.value||t(a)||i?.size||d?.size||u.value||"")},Vt=a=>{const n=$e("disabled"),s=K(ie,void 0);return h(()=>n.value||t(a)||s?.disabled||!1)};function Lt(a,{disabled:n,beforeFocus:s,afterFocus:o,beforeBlur:u,afterBlur:d}={}){const i=Z(),{emit:c}=i,f=q(),r=z(!1),m=v=>{const l=Ie(s)?s(v):!1;t(n)||r.value||l||(r.value=!0,c("focus",v),o?.())},S=v=>{var l;const F=Ie(u)?u(v):!1;t(n)||v.relatedTarget&&((l=f.value)!=null&&l.contains(v.relatedTarget))||F||(r.value=!1,c("blur",v),d?.())},g=v=>{var l,F;t(n)||mt(v.target)||(l=f.value)!=null&&l.contains(document.activeElement)&&f.value!==document.activeElement||(F=a.value)==null||F.focus()};return D([f,()=>t(n)],([v,l])=>{v&&(l?v.removeAttribute("tabindex"):v.setAttribute("tabindex","-1"))}),ne(f,"focus",m,!0),ne(f,"blur",S,!0),ne(f,"click",g,!0),{isFocused:r,wrapperRef:f,handleFocus:m,handleBlur:S}}const Rt=a=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(a);function Bt({afterComposition:a,emit:n}){const s=z(!1),o=c=>{n?.("compositionstart",c),s.value=!0},u=c=>{var f;n?.("compositionupdate",c);const r=(f=c.target)==null?void 0:f.value,m=r[r.length-1]||"";s.value=!Rt(m)},d=c=>{n?.("compositionend",c),s.value&&(s.value=!1,L(()=>a(c)))};return{isComposing:s,handleComposition:c=>{c.type==="compositionend"?d(c):u(c)},handleCompositionStart:o,handleCompositionUpdate:u,handleCompositionEnd:d}}function Ot(a){let n;function s(){if(a.value==null)return;const{selectionStart:u,selectionEnd:d,value:i}=a.value;if(u==null||d==null)return;const c=i.slice(0,Math.max(0,u)),f=i.slice(Math.max(0,d));n={selectionStart:u,selectionEnd:d,value:i,beforeTxt:c,afterTxt:f}}function o(){if(a.value==null||n==null)return;const{value:u}=a.value,{beforeTxt:d,afterTxt:i,selectionStart:c}=n;if(d==null||i==null||c==null)return;let f=u.length;if(u.endsWith(i))f=u.length-i.length;else if(u.startsWith(d))f=d.length;else{const r=d[c-1],m=u.indexOf(r,c-1);m!==-1&&(f=m+1)}a.value.setSelectionRange(f,f)}return[s,o]}const $t="ElInput",At=Be({name:$t,inheritAttrs:!1}),Mt=Be({...At,props:It,emits:Et,setup(a,{expose:n,emit:s}){const o=a,u=at(),d=Pt(),i=nt(),c=h(()=>[o.type==="textarea"?F.b():l.b(),l.m(g.value),l.is("disabled",v.value),l.is("exceed",je.value),{[l.b("group")]:i.prepend||i.append,[l.m("prefix")]:i.prefix||o.prefixIcon,[l.m("suffix")]:i.suffix||o.suffixIcon||o.clearable||o.showPassword,[l.bm("suffix","password-clear")]:W.value&&Q.value,[l.b("hidden")]:o.type==="hidden"},u.class]),f=h(()=>[l.e("wrapper"),l.is("focus",G.value)]),{form:r,formItem:m}=Nt(),{inputId:S}=kt(o,{formItemContext:m}),g=Tt(),v=Vt(),l=Ee("input"),F=Ee("textarea"),j=q(),E=q(),J=z(!1),U=z(!1),re=z(),_=q(o.inputStyle),N=h(()=>j.value||E.value),{wrapperRef:Ae,isFocused:G,handleFocus:Me,handleBlur:He}=Lt(N,{disabled:v,afterBlur(){var e;o.validateEvent&&((e=m?.validate)==null||e.call(m,"blur").catch(p=>Te()))}}),ue=h(()=>{var e;return(e=r?.statusIcon)!=null?e:!1}),R=h(()=>m?.validateState||""),de=h(()=>R.value&&yt[R.value]),De=h(()=>U.value?bt:gt),Ke=h(()=>[u.style]),ce=h(()=>[o.inputStyle,_.value,{resize:o.resize}]),P=h(()=>st(o.modelValue)?"":String(o.modelValue)),W=h(()=>o.clearable&&!v.value&&!o.readonly&&!!P.value&&(G.value||J.value)),Q=h(()=>o.showPassword&&!v.value&&!!P.value),k=h(()=>o.showWordLimit&&!!o.maxlength&&(o.type==="text"||o.type==="textarea")&&!v.value&&!o.readonly&&!o.showPassword),ee=h(()=>P.value.length),je=h(()=>!!k.value&&ee.value>Number(o.maxlength)),Ue=h(()=>!!i.suffix||!!o.suffixIcon||W.value||o.showPassword||k.value||!!R.value&&ue.value),[pe,fe]=Ot(j);ct(E,e=>{if(_e(),!k.value||o.resize!=="both")return;const p=e[0],{width:T}=p.contentRect;re.value={right:`calc(100% - ${T+15+6}px)`}});const B=()=>{const{type:e,autosize:p}=o;if(!(!rt||e!=="textarea"||!E.value))if(p){const T=Pe(p)?p.minRows:void 0,xe=Pe(p)?p.maxRows:void 0,Se=Ve(E.value,T,xe);_.value={overflowY:"hidden",...Se},L(()=>{E.value.offsetHeight,_.value=Se})}else _.value={minHeight:Ve(E.value).minHeight}},_e=(e=>{let p=!1;return()=>{var T;if(p||!o.autosize)return;((T=E.value)==null?void 0:T.offsetParent)===null||(setTimeout(e),p=!0)}})(B),O=()=>{const e=N.value,p=o.formatter?o.formatter(P.value):P.value;!e||e.value===p||(e.value=p)},te=async e=>{pe();let{value:p}=e.target;if(o.formatter&&o.parser&&(p=o.parser(p)),!me.value){if(p===P.value){O();return}s(le,p),s(Ne,p),await L(),O(),fe()}},ve=e=>{let{value:p}=e.target;o.formatter&&o.parser&&(p=o.parser(p)),s(ke,p)},{isComposing:me,handleCompositionStart:he,handleCompositionUpdate:ye,handleCompositionEnd:be}=Bt({emit:s,afterComposition:te}),We=()=>{pe(),U.value=!U.value,setTimeout(fe)},Ye=()=>{var e;return(e=N.value)==null?void 0:e.focus()},Xe=()=>{var e;return(e=N.value)==null?void 0:e.blur()},qe=e=>{J.value=!1,s("mouseleave",e)},Ze=e=>{J.value=!0,s("mouseenter",e)},ge=e=>{s("keydown",e)},Je=()=>{var e;(e=N.value)==null||e.select()},we=()=>{s(le,""),s(ke,""),s("clear"),s(Ne,"")};return D(()=>o.modelValue,()=>{var e;L(()=>B()),o.validateEvent&&((e=m?.validate)==null||e.call(m,"change").catch(p=>Te()))}),D(P,()=>O()),D(()=>o.type,async()=>{await L(),O(),B()}),Le(()=>{!o.formatter&&o.parser,O(),L(B)}),n({input:j,textarea:E,ref:N,textareaStyle:ce,autosize:Re(o,"autosize"),isComposing:me,focus:Ye,blur:Xe,select:Je,clear:we,resizeTextarea:B}),(e,p)=>(y(),C("div",{class:w([t(c),{[t(l).bm("group","append")]:e.$slots.append,[t(l).bm("group","prepend")]:e.$slots.prepend}]),style:Fe(t(Ke)),onMouseenter:Ze,onMouseleave:qe},[b(" input "),e.type!=="textarea"?(y(),C(ae,{key:0},[b(" prepend slot "),e.$slots.prepend?(y(),C("div",{key:0,class:w(t(l).be("group","prepend"))},[Y(e.$slots,"prepend")],2)):b("v-if",!0),V("div",{ref_key:"wrapperRef",ref:Ae,class:w(t(f))},[b(" prefix slot "),e.$slots.prefix||e.prefixIcon?(y(),C("span",{key:0,class:w(t(l).e("prefix"))},[V("span",{class:w(t(l).e("prefix-inner"))},[Y(e.$slots,"prefix"),e.prefixIcon?(y(),I(t(H),{key:0,class:w(t(l).e("icon"))},{default:A(()=>[(y(),I(M(e.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),V("input",ze({id:t(S),ref_key:"input",ref:j,class:t(l).e("inner")},t(d),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?U.value?"text":"password":e.type,disabled:t(v),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:t(he),onCompositionupdate:t(ye),onCompositionend:t(be),onInput:te,onChange:ve,onKeydown:ge}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),b(" suffix slot "),t(Ue)?(y(),C("span",{key:1,class:w(t(l).e("suffix"))},[V("span",{class:w(t(l).e("suffix-inner"))},[!t(W)||!t(Q)||!t(k)?(y(),C(ae,{key:0},[Y(e.$slots,"suffix"),e.suffixIcon?(y(),I(t(H),{key:0,class:w(t(l).e("icon"))},{default:A(()=>[(y(),I(M(e.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),t(W)?(y(),I(t(H),{key:1,class:w([t(l).e("icon"),t(l).e("clear")]),onMousedown:lt(t(it),["prevent"]),onClick:we},{default:A(()=>[(y(),I(M(e.clearIcon)))]),_:1},8,["class","onMousedown"])):b("v-if",!0),t(Q)?(y(),I(t(H),{key:2,class:w([t(l).e("icon"),t(l).e("password")]),onClick:We},{default:A(()=>[(y(),I(M(t(De))))]),_:1},8,["class"])):b("v-if",!0),t(k)?(y(),C("span",{key:3,class:w(t(l).e("count"))},[V("span",{class:w(t(l).e("count-inner"))},X(t(ee))+" / "+X(e.maxlength),3)],2)):b("v-if",!0),t(R)&&t(de)&&t(ue)?(y(),I(t(H),{key:4,class:w([t(l).e("icon"),t(l).e("validateIcon"),t(l).is("loading",t(R)==="validating")])},{default:A(()=>[(y(),I(M(t(de))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),e.$slots.append?(y(),C("div",{key:1,class:w(t(l).be("group","append"))},[Y(e.$slots,"append")],2)):b("v-if",!0)],64)):(y(),C(ae,{key:1},[b(" textarea "),V("textarea",ze({id:t(S),ref_key:"textarea",ref:E,class:[t(F).e("inner"),t(l).is("focus",t(G))]},t(d),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:t(v),readonly:e.readonly,autocomplete:e.autocomplete,style:t(ce),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:t(he),onCompositionupdate:t(ye),onCompositionend:t(be),onInput:te,onFocus:t(Me),onBlur:t(He),onChange:ve,onKeydown:ge}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),t(k)?(y(),C("span",{key:0,style:Fe(re.value),class:w(t(l).e("count"))},X(t(ee))+" / "+X(e.maxlength),7)):b("v-if",!0)],64))],38))}});var Ht=ht(Mt,[["__file","input.vue"]]);const _t=ut(Ht);export{_t as E,Nt as a,kt as b,Pt as c,Lt as d,Vt as e,Bt as f,Ct as m,Tt as u};
